{"version":3,"sources":["util/Queue.ts"],"names":[],"mappings":";;;;;;;;;;AAEA,WAA2B,SAAQ,KAAoB;IAGrD;QACE,KAAK,EAAE,CAAC;QACR,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QAE1E,MAAM,CAAC,IAAI,KAAK,CAAC,IAAI,EAAE;YACrB,GAAG,CAAC,MAAM,EAAE,IAAS,EAAE,KAAoB;gBACzC,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBACjC,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAEY,KAAK;;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAAC,MAAM,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YAErB,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;gBACnB,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC;oBAAC,MAAM,IAAI,EAAE,CAAC;YACzB,CAAC;YAED,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACxB,CAAC;KAAA;CACF;AA3BD,wBA2BC","file":"Queue.js","sourcesContent":["export type QueueFunction = (...args: any[]) => Promise<void>;\n\nexport default class Queue extends Array<QueueFunction> {\n  private _started: boolean;\n\n  constructor() {\n    super();\n    Object.defineProperty(this, '_started', { writable: true, value: false });\n\n    return new Proxy(this, {\n      set(target, prop: any, value: QueueFunction) {\n        target[prop] = value;\n        if (!isNaN(prop)) target.start();\n        return true;\n      },\n    });\n  }\n\n  public async start() {\n    if (this._started) return;\n    this._started = true;\n\n    while (this.length) {\n      const func = this.shift();\n      if (func) await func();\n    }\n\n    this._started = false;\n  }\n}\n"],"sourceRoot":"../../src"}